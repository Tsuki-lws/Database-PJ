LLM评测平台后端需求文档
一、项目概述
LLM评测平台旨在为大语言模型(LLM)的评测提供标准化、可扩展的解决方案。该平台支持从原始问题到标准问题/答案的处理，并通过众包方式构建高质量评测数据集，最终实现对多种LLM模型在不同数据集版本上的综合评测与比较。

二、核心功能需求
1. 问答数据管理
原始问题/回答管理

支持查询原始问题和回答的数量
同一个问题可能有多个回答
标准问题/回答管理

标准问题的CRUD操作
标准问题可分为单选题、多选题、简单事实题、主观题
支持难度分级：简单、中等、困难
支持标准问题的版本控制
标准答案管理
查询原始问题/回答、标准问题/回答的数量– 同一个问题回答可能有多个

支持对标准问题录入标准答案
可查询尚未录入标准答案的标准问题数量和列表
支持标准答案的版本控制
支持为主观题定义评分关键点，包括必须点、加分点、减分点
2. 众包构建功能
支持对一个标准问题由多人给出多个候选回答
支持对众包收集的候选答案进行评审和比较
允许专家用户提供高质量回答
支持从候选答案中选择最终的标准答案
3. 分类与标签系统
支持对标准问题进行分类，形成层次化分类体系
支持根据分类查询和统计问题
支持为标准问题添加一个或多个标签
支持根据标签进行查询和统计
4. 数据集版本管理
支持数据集的多版本管理
不同版本的数据集可包含相同或不同的问题集合
支持数据集版本状态管理（草稿、发布等）
支持数据集版本演化过程中的标准问题版本控制
5. LLM评测功能
支持多种LLM模型信息的管理
支持对模型在特定数据集上进行批量评测
支持评测结果的存储和查询
支持对同一数据集进行多次评测，并可查询每次评测结果
支持多种评测方法：自动评测、人工评测、裁判模型评测
支持记录多个大模型的多个版本在多个数据集版本上的评测结果
6. 客观题与主观题处理
对客观题支持选项管理，包括正确答案标记
对主观题支持关键点评估，包括评分权重设计
支持多维度评分标准
三、数据模型概览
参照数据库设计，系统包含以下核心实体:

原始数据实体：raw_questions, raw_answers
标准化数据实体：standard_questions, standard_answers, answer_key_points, objective_question_options
版本控制实体：standard_question_versions, standard_answer_versions, key_point_versions, option_versions
分类标签实体：question_categories, tags, standard_question_tags
众包相关实体：crowdsourcing_tasks, crowdsourced_answers, expert_answers, answer_ratings, answer_comparisons
评测相关实体：llm_models, evaluation_batches, llm_answers, evaluations, evaluation_key_points
数据集管理实体：dataset_versions, dataset_question_mapping
四、技术要求
1. 基本技术要求
采用Java Spring Boot框架开发后端服务
采用MyBatis作为ORM框架
数据库采用MySQL
支持RESTful API设计规范
2. 特殊功能实现
版本控制：使用数据库提供的存储过程实现版本控制
软删除：所有实体支持软删除机制
分页查询：使用MyBatis-PageHelper实现高效分页
事务管理：对涉及多表操作的业务实现事务控制
关系查询优化：避免N+1查询问题，实现高效关联查询
五、API设计建议
1. 核心API端点
/api/questions - 标准问题管理
/api/answers - 标准答案管理
/api/categories - 分类管理
/api/tags - 标签管理
/api/datasets - 数据集管理
/api/models - 模型管理
/api/evaluations - 评测管理
/api/crowdsourcing - 众包任务管理
2. 查询参数示例
问题查询：分类、难度、类型、标签、关键词
答案查询：问题ID、状态、来源
评测查询：模型ID、数据集版本、评测方法、分数范围
六、实现优先级
第一阶段: 基础数据管理

标准问题和标准答案的CRUD操作
分类和标签系统实现
版本控制基本功能
第二阶段: 数据集和评测功能

数据集版本管理
LLM模型管理
基本评测功能实现
第三阶段: 众包系统和高级评测

众包任务和答案管理
专家答案系统
高级评测和比较功能
七、测试重点
版本控制功能的正确性
软删除和数据恢复功能
复杂关联查询的性能
事务边界的正确性
API接口的健壮性和错误处理
八、参考资源
数据库设计文档 (数据库设计文档.md)
ERD图设计指南 (ERD图设计指南.md)
后端开发指南 (后端开发指南.md)
数据库Schema (schema.sql)
九、实验建议
首先实现基础的实体类、Mapper接口和XML映射
实现基础的服务层逻辑，包括CRUD和版本控制
开发核心API端点，支持基本的问答管理
实现问题分类和标签功能
开发数据集版本管理功能
实现基本的评测记录功能
测试复杂查询和统计功能
本需求文档为后端实验提供了基本框架，实际开发中可根据具体情况进行调整和扩展。